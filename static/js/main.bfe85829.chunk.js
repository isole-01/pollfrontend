(this.webpackJsonppollfront=this.webpackJsonppollfront||[]).push([[0],{178:function(e,t,n){e.exports=n(308)},183:function(e,t,n){},190:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(13),r=n.n(o),i=(n(183),n(52)),l=n(30),u=n(53),m=n(27),s=n(39),d=n(34),p=n(41),b=n(349),h=n(356),E=n(169),g=n(352),f=n(354),v=n(355),O=n(359),j=n(360),_=n(357),y=n(358),w=n(361);function x(){var e=Object(s.a)(["\n    subscription {\n        pollAdded {\n            id\n            name\n        }\n    }\n"]);return x=function(){return e},e}function q(){var e=Object(s.a)(["\n    {\n\n        polls{\n            name\n            id\n        }\n\n    }\n"]);return q=function(){return e},e}var k=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:700,margin:"50px auto",backgroundColor:e.palette.background.paper},listItem:{margin:"10px 3px"}}})),C=Object(E.a)({direction:"rtl"}),S=Object(p.a)(q()),B=Object(p.a)(x());function $(){var e=Object(d.b)(S),t=e.loading,n=e.error,o=e.data,r=Object(a.useState)([]),u=Object(m.a)(r,2),s=u[0],p=u[1],b=(Object(d.c)(B,{onSubscriptionData:function(e){var t=e.subscriptionData.data.pollAdded;console.log(t);var n=Object(i.a)(s).concat(t);p(n)}}),k());return t?c.a.createElement(g.a,{variant:"query"}):n?c.a.createElement("p",null,"Error :("):c.a.createElement(f.a,null,c.a.createElement(v.a,{theme:C},c.a.createElement(h.a,{component:"nav",className:b.root,"aria-label":"mailbox folders"},o.polls.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(_.a,{className:b.listItem},c.a.createElement(y.a,{primary:e.name}),c.a.createElement(O.a,null,c.a.createElement(j.a,{component:l.c,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),c.a.createElement(j.a,{component:l.c,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),c.a.createElement(w.a,null))})),s.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(_.a,{className:b.listItem},c.a.createElement(y.a,{primary:e.name}),c.a.createElement(O.a,null,c.a.createElement(j.a,{component:l.c,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),c.a.createElement(j.a,{component:l.c,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),c.a.createElement(w.a,null))})),c.a.createElement(w.a,{light:!0}))))}var N=n(119),A=n(376),D=n(75),I=n(368),P=n(370),T=n(369),W=n(373),Q=n(367),R=n(365),F=n(366),G=n(363),J=n(362),M=n(364),L=n(164),z=n.n(L);function H(){var e=Object(s.a)(["\n    mutation addPoll($name: String!,$questions:[QuestionIn!]!) {\n        addPoll(name: $name,questions:$questions) {\n            id\n            name\n        }\n    }\n"]);return H=function(){return e},e}var K=c.a.forwardRef((function(e,t){return c.a.createElement(J.a,Object.assign({direction:"up",ref:t},e))})),U=Object(b.a)((function(e){return{root:{width:"90vw",margin:"0 auto"},questions:{width:"80%",margin:"0 auto"},menuButton:{marginRight:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},title:{width:"10vw"}}})),V=Object(p.a)(H()),X=Object(E.a)({direction:"rtl"});function Y(){var e,t=Object(u.g)(),n=U(),o=Object(a.useState)([{text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""}]),r=Object(m.a)(o,2),l=r[0],s=r[1],p=Object(d.a)(V),b=Object(m.a)(p,2),h=b[0],E=(b[1],Object(a.useState)([""])),g=Object(m.a)(E,2),O=g[0],_=g[1],y=function(e){var t=e.target.name.split("-"),n=parseInt(t[0]),a=t[1],c=Object(i.a)(l);c[n][a]=e.target.value,s(c),console.log(l)},w=Object(a.useState)(!1),x=Object(m.a)(w,2),q=x[0],k=x[1],C=function(){k(!1)},S=Object(a.useState)("\u0646\u0638\u0631\u0633\u0646\u062c\u06cc \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f"),B=Object(m.a)(S,2),$=B[0],J=B[1],L=Object(a.useState)(""),H=Object(m.a)(L,2),Y=H[0],Z=H[1];return c.a.createElement("form",{className:n.root,onSubmit:function(e){e.preventDefault(),""===O&&(J("\u0639\u062f\u0645 \u062a\u06a9\u0645\u06cc\u0644 \u0641\u0631\u0645"),Z("\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f.")),h({variables:{name:O,questions:l}}).then((function(e){k(!0),_(""),s([])})).catch((function(e){J("\u062e\u0637\u0627"),Z(e.message),k(!0)}))}},c.a.createElement(v.a,{theme:X},c.a.createElement(A.a,{open:q,TransitionComponent:K,keepMounted:!0,onClose:C},c.a.createElement(G.a,{style:{minWidth:"270px",textAlign:"center"},id:"alert-dialog-slide-title"},c.a.createElement(M.a,{"aria-label":"close",className:n.closeButton,onClick:C},c.a.createElement(z.a,null)),$),c.a.createElement(R.a,null,c.a.createElement(F.a,{style:{textAlign:"right"},id:"alert-dialog-slide-description"},Y)),c.a.createElement(Q.a,{style:{display:"flex",direction:"row",justifyContent:"center"}},c.a.createElement(j.a,{onClick:function(){return t.push("/home")},color:"primary"},"\u0628\u0627\u0632\u06af\u0634\u062a \u0628\u0647 \u062e\u0627\u0646\u0647")))),c.a.createElement(f.a,{style:{height:"30px",margin:"20px"},container:!0,direction:"row",justify:"space-between"},c.a.createElement(W.a,{required:!0,label:"\u0646\u0627\u0645 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc",value:O,onChange:function(e){_(e.target.value)}}),c.a.createElement(j.a,(e={color:"primary",style:{backgroundColor:"#0091EA",color:"white",marginLeft:"5%"},round:!0},Object(N.a)(e,"color","info"),Object(N.a)(e,"onClick",(function(e){return s(l.concat({text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""})),void console.log(l)})),e),c.a.createElement(D.a,null,"\u0627\u0641\u0632\u0648\u062f\u0646 \u0633\u0648\u0627\u0644"))),c.a.createElement(f.a,{spacing:6,className:n.questions,container:!0,direction:"column"},l.map((function(e,t){return c.a.createElement(f.a,{item:!0,className:n.question,container:!0,direction:"column",key:e.id},c.a.createElement(I.a,null,c.a.createElement(T.a,null,c.a.createElement(W.a,{required:!0,placeholder:"\u0639\u0646\u0648\u0627\u0646 \u0633\u0648\u0627\u0644",style:{width:"100%",marginBottom:"20px"},onChange:function(e){return function(e){var t=parseInt(e.target.name),n=Object(i.a)(l);n[t].text=e.target.value,s(n)}(e)},name:"".concat(t),value:"".concat(e.text)}),c.a.createElement(W.a,{required:!0,placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f1",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return y(e)},name:"".concat(t,"-choice_a"),value:"".concat(e.choice_a)}),c.a.createElement(W.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f2",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return y(e)},name:"".concat(t,"-choice_b"),value:"".concat(e.choice_b)}),c.a.createElement(W.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f3",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return y(e)},name:"".concat(t,"-choice_c"),value:"".concat(e.choice_c)}),c.a.createElement(W.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f4",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return y(e)},name:"".concat(t,"-choice_d"),value:"".concat(e.choice_d)})),c.a.createElement(P.a,null,c.a.createElement(j.a,{color:"secondary",name:"".concat(t),round:!0,sm:!0,style:{},onClick:function(){return function(e){l.splice(e,1);var t=Object(i.a)(l);s(t)}(t)}},"\u062d\u0630\u0641 \u0633\u0648\u0627\u0644"))))})),c.a.createElement(j.a,{type:"submit",style:{color:"white",backgroundColor:"#0091EA",marginTop:"40px",width:"30%",margin:"0 auto"}},"\u062a\u0627\u06cc\u06cc\u062f")))}n(190);var Z=n(47);function ee(){var e=Object(s.a)(["\n    mutation fillPoll($id: String!,$choices:[Choices!]!) {\n        fillPoll(id: $id,choices:$choices)\n    }\n"]);return ee=function(){return e},e}function te(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                choice_b\n                choice_c\n                choice_d\n            }\n        }\n    }\n"]);return te=function(){return e},e}var ne=Object(p.a)(te()),ae=Object(p.a)(ee());function ce(){var e=Object(u.h)().id,t=Object(d.b)(ne,{variables:{id:e}}),n=t.loading,o=t.error,r=t.data,i=Object(d.a)(ae),l=Object(m.a)(i,1)[0],s=Object(a.useState)({}),p=Object(m.a)(s,2),b=p[0],h=p[1];return n?c.a.createElement(g.a,{variant:"query"}):o?c.a.createElement("p",null,"Error :("):c.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=Object.values(b);n.length===r.poll.questions.length?l({variables:{id:e,choices:n}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})):alert("please answer all questions")}},c.a.createElement(f.a,{direction:"column",container:!0},c.a.createElement(Z.Test,{style:{width:"60%",margin:"50px auto"},onOptionSelect:function(e){return h(e)}},r.poll.questions.map((function(e,t){return c.a.createElement(Z.QuestionGroup,{key:e.id,questionNumber:t},c.a.createElement(Z.Question,null,e.text),c.a.createElement(Z.Option,{value:"A"},e.choice_a),c.a.createElement(Z.Option,{value:"B"},e.choice_b),c.a.createElement(Z.Option,{value:"C"},e.choice_c),c.a.createElement(Z.Option,{value:"D"},e.choice_d))})))),c.a.createElement(j.a,{color:"primary",style:{width:"300px",marginTop:"-30px",marginBottom:"200px"},type:"submit"},"submit"))}var oe=n(165),re=n.n(oe);function ie(){var e=Object(s.a)(["\n    subscription poll($id:String!) {\n        poll(id:$id){\n            questions{\n                number_a\n                number_b\n                number_c\n                number_d\n            }\n        }\n    }\n"]);return ie=function(){return e},e}function le(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                number_a\n                choice_b\n                number_b\n                choice_c\n                number_c\n                choice_d\n                number_d\n            }\n        }\n    }\n"]);return le=function(){return e},e}var ue=Object(p.a)(le()),me=Object(p.a)(ie());function se(){var e=Object(u.h)().id,t=Object(a.useState)([]),n=Object(m.a)(t,2),o=n[0],r=n[1],i=Object(d.b)(ue,{variables:{id:e},onCompleted:function(e){console.log(e.poll.questions),r(e.poll.questions),console.log(o)}}),l=i.loading,s=i.error,p=i.data;Object(d.c)(me,{variables:{id:e},onSubscriptionData:function(e){var t=e.subscriptionData.data.poll;r(t.questions),console.log(o)}});return l?c.a.createElement(g.a,{variant:"query"}):s?c.a.createElement("p",null,"Error :("):c.a.createElement(f.a,{container:!0,style:{marginTop:"30px",marginBottom:"50px"},alignContent:"center",direction:"column"},p.poll.questions.map((function(e,t){return c.a.createElement(I.a,{style:{width:500,margin:"20px"},key:e.id},c.a.createElement(re.a,{ylabel:"\u062a\u0639\u062f\u0627\u062f",width:400,height:250,margin:{top:20,right:20,bottom:30,left:40},data:[{text:e.choice_a,value:o[t]?o[t].number_a:e.number_a},{text:e.choice_b,value:o[t]?o[t].number_b:e.number_b},{text:e.choice_c,value:o[t]?o[t].number_c:e.number_c},{text:e.choice_d,value:o[t]?o[t].number_d:e.number_d}],style:{color:"blue"}}),c.a.createElement(T.a,null,c.a.createElement(D.a,null,e.text)))})))}var de=n(371),pe=n(372),be=n(167),he=n.n(be),Ee=n(18),ge=n(166),fe=n.n(ge),ve=n(374),Oe=n(377),je=Object(Ee.create)({plugins:[].concat(Object(i.a)(Object(ve.a)().plugins),[fe()()])}),_e=Object(b.a)((function(e){return{root:{flexGrow:1,justifyContent:"space-between"},menuButton:{marginRight:e.spacing(2)},title:{width:"10vw"}}}));var ye=function(){var e=_e();return c.a.createElement(l.a,null,c.a.createElement(l.b,{basename:"/"},c.a.createElement("div",{dir:"rtl",className:"App"},c.a.createElement(Oe.b,{jss:je},c.a.createElement(de.a,{position:"static",color:"secondary"},c.a.createElement(pe.a,{className:e.root},c.a.createElement(M.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},c.a.createElement(he.a,null)),c.a.createElement(j.a,{component:l.c,to:"/home",className:e.title},c.a.createElement(D.a,{style:{color:"white"},variant:"h6"},"\u062e\u0627\u0646\u0647")),c.a.createElement(j.a,{component:l.c,to:"/addpoll",color:"inherit"},"\u0628\u0631\u06af\u0632\u0627\u0631\u06cc \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"))),c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/",render:function(){return c.a.createElement(u.a,{to:"/home"})}}),c.a.createElement(u.b,{path:"/home",component:$}),c.a.createElement(u.b,{path:"/addpoll",component:Y}),c.a.createElement(u.b,{path:"/fill/:id",component:ce}),c.a.createElement(u.b,{path:"/show/:id",component:se}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=n(23),xe=n(33),qe=n(57),ke=n(69),Ce=n(16),Se=n(168),Be=n(5),$e=new ke.a({uri:"https://blooming-hamlet-40237.herokuapp.com/"}),Ne=new Se.a({uri:"wss://blooming-hamlet-40237.herokuapp.com/graphql",options:{timeout:3e4,reconnect:!0}}),Ae=Object(Ce.d)((function(e){var t=e.query,n=Object(Be.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),Ne,$e),De=new xe.a({link:Ae,cache:new qe.a});r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(we.a,{client:De},c.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.bfe85829.chunk.js.map