(this.webpackJsonppollfront=this.webpackJsonppollfront||[]).push([[0],{161:function(e,t,n){e.exports=n(292)},166:function(e,t,n){},173:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(13),r=n.n(c),l=(n(166),n(48)),i=n(30),u=n(49),m=n(35),s=n(34),b=n(29),p=n(36),d=n(328),h=n(333),g=n(331),E=n(336),f=n(337),v=n(334),O=n(335),j=n(338);function _(){var e=Object(s.a)(["\n    subscription {\n        pollAdded {\n            id\n            name\n        }\n    }\n"]);return _=function(){return e},e}function w(){var e=Object(s.a)(["\n    {\n\n        polls{\n            name\n            id\n        }\n\n    }\n"]);return w=function(){return e},e}var y=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:700,margin:"50px auto",backgroundColor:e.palette.background.paper}}})),x=Object(p.a)(w()),q=Object(p.a)(_());function k(){var e=Object(b.b)(x),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)([]),u=Object(m.a)(r,2),s=u[0],p=u[1],d=(Object(b.c)(q,{onSubscriptionData:function(e){var t=e.subscriptionData.data.pollAdded;console.log(t);var n=Object(l.a)(s).concat(t);p(n)}}),y());return t?o.a.createElement("p",null,"Loading..."):n?o.a.createElement("p",null,"Error :("):o.a.createElement(g.a,null,o.a.createElement(h.a,{component:"nav",className:d.root,"aria-label":"mailbox folders"},c.polls.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null,o.a.createElement(O.a,{primary:e.name}),o.a.createElement(E.a,null,o.a.createElement(f.a,{component:i.b,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),o.a.createElement(f.a,{component:i.b,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),o.a.createElement(j.a,null))})),s.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null,o.a.createElement(O.a,{primary:e.name}),o.a.createElement(E.a,null,o.a.createElement(f.a,{component:i.b,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),o.a.createElement(f.a,{component:i.b,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),o.a.createElement(j.a,null))}))))}var C=n(106),S=n(90),$=n(339),B=n(341),N=n(340),D=n(345);function A(){var e=Object(s.a)(["\n    mutation addPoll($name: String!,$questions:[QuestionIn!]!) {\n        addPoll(name: $name,questions:$questions) {\n            id\n            name\n        }\n    }\n"]);return A=function(){return e},e}var P=Object(d.a)((function(e){return{root:{width:"90vw",margin:"0 auto"},questions:{width:"80%",margin:"0 auto"},menuButton:{marginRight:e.spacing(2)},title:{width:"10vw"}}})),I=Object(p.a)(A());function L(){var e,t=Object(u.g)(),n=P(),c=Object(a.useState)([{text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""}]),r=Object(m.a)(c,2),i=r[0],s=r[1],p=Object(b.a)(I),d=Object(m.a)(p,2),h=d[0],E=(d[1],Object(a.useState)([""])),v=Object(m.a)(E,2),O=v[0],j=v[1],_=function(e){var t=e.target.name.split("-"),n=parseInt(t[0]),a=t[1],o=Object(l.a)(i);o[n][a]=e.target.value,s(o),console.log(i)};return o.a.createElement("form",{className:n.root,onSubmit:function(e){e.preventDefault(),h({variables:{name:O,questions:i}}).then((function(e){return t.push("/home")}))}},o.a.createElement(g.a,{style:{height:"30px",margin:"20px"},container:!0,direction:"row",justify:"space-between"},o.a.createElement(D.a,{label:"\u0646\u0627\u0645 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc",value:O,onChange:function(e){j(e.target.value)}}),o.a.createElement(f.a,(e={color:"primary",style:{backgroundColor:"#0091EA",color:"white",marginLeft:"5%"},round:!0},Object(C.a)(e,"color","info"),Object(C.a)(e,"onClick",(function(e){return s(i.concat({text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""})),void console.log(i)})),e),o.a.createElement(S.a,null,"\u0627\u0641\u0632\u0648\u062f\u0646 \u0633\u0648\u0627\u0644"))),o.a.createElement(g.a,{spacing:6,className:n.questions,container:!0,direction:"column"},i.map((function(e,t){return o.a.createElement(g.a,{item:!0,className:n.question,container:!0,direction:"column",key:e.id},o.a.createElement($.a,null,o.a.createElement(N.a,null,o.a.createElement(D.a,{placeholder:"\u0639\u0646\u0648\u0627\u0646 \u0633\u0648\u0627\u0644",style:{width:"100%",marginBottom:"20px"},onChange:function(e){return function(e){var t=parseInt(e.target.name),n=Object(l.a)(i);n[t].text=e.target.value,s(n)}(e)},name:"".concat(t),value:"".concat(e.text)}),o.a.createElement(D.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f1",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_a"),value:"".concat(e.choice_a)}),o.a.createElement(D.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f2",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_b"),value:"".concat(e.choice_b)}),o.a.createElement(D.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f3",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_c"),value:"".concat(e.choice_c)}),o.a.createElement(D.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f4",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_d"),value:"".concat(e.choice_d)})),o.a.createElement(B.a,null,o.a.createElement(f.a,{color:"secondary",name:"".concat(t),round:!0,sm:!0,style:{},onClick:function(){return function(e){i.splice(e,1);var t=Object(l.a)(i);s(t)}(t)}},"\u062d\u0630\u0641 \u0633\u0648\u0627\u0644"))))})),o.a.createElement(f.a,{type:"submit",style:{color:"white",backgroundColor:"#0091EA",marginTop:"40px",width:"30%",margin:"0 auto"}},"\u062a\u0627\u06cc\u06cc\u062f")))}n(173);var T=n(43);function Q(){var e=Object(s.a)(["\n    mutation fillPoll($id: String!,$choices:[Choices!]!) {\n        fillPoll(id: $id,choices:$choices)\n    }\n"]);return Q=function(){return e},e}function W(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                choice_b\n                choice_c\n                choice_d\n            }\n        }\n    }\n"]);return W=function(){return e},e}var F=Object(p.a)(W()),G=Object(p.a)(Q());function J(){var e=Object(u.h)().id,t=Object(b.b)(F,{variables:{id:e}}),n=t.loading,c=t.error,r=t.data,l=Object(b.a)(G),i=Object(m.a)(l,1)[0],s=Object(a.useState)({}),p=Object(m.a)(s,2),d=p[0],h=p[1];return n?o.a.createElement("p",null,"Loading..."):c?o.a.createElement("p",null,"Error :("):o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=Object.values(d);n.length===r.poll.questions.length?i({variables:{id:e,choices:n}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})):alert("please answer all questions")}},o.a.createElement(g.a,{direction:"column",container:!0},o.a.createElement(T.Test,{style:{width:"60%",margin:"50px auto"},onOptionSelect:function(e){return h(e)}},r.poll.questions.map((function(e,t){return o.a.createElement(T.QuestionGroup,{key:e.id,questionNumber:t},o.a.createElement(T.Question,null,e.text),o.a.createElement(T.Option,{value:"A"},e.choice_a),o.a.createElement(T.Option,{value:"B"},e.choice_b),o.a.createElement(T.Option,{value:"C"},e.choice_c),o.a.createElement(T.Option,{value:"D"},e.choice_d))})))),o.a.createElement(f.a,{color:"primary",style:{width:"300px",marginTop:"-30px",marginBottom:"200px"},type:"submit"},"submit"))}var R=n(150),M=n.n(R);function z(){var e=Object(s.a)(["\n    subscription poll($id:String!) {\n        poll(id:$id){\n            questions{\n                number_a\n                number_b\n                number_c\n                number_d\n            }\n        }\n    }\n"]);return z=function(){return e},e}function H(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                number_a\n                choice_b\n                number_b\n                choice_c\n                number_c\n                choice_d\n                number_d\n            }\n        }\n    }\n"]);return H=function(){return e},e}var K=Object(p.a)(H()),U=Object(p.a)(z());function V(){var e=Object(u.h)().id,t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],r=n[1],l=Object(b.b)(K,{variables:{id:e},onCompleted:function(e){console.log(e.poll.questions),r(e.poll.questions),console.log(c)}}),i=l.loading,s=l.error,p=l.data;Object(b.c)(U,{variables:{id:e},onSubscriptionData:function(e){var t=e.subscriptionData.data.poll;r(t.questions),console.log(c)}});return i?o.a.createElement("p",null,"Loading..."):s?o.a.createElement("p",null,"Error :("):o.a.createElement(g.a,{container:!0,style:{marginTop:"30px",marginBottom:"50px"},alignContent:"center",direction:"column"},p.poll.questions.map((function(e,t){return o.a.createElement($.a,{style:{width:500,margin:"20px"},key:e.id},o.a.createElement(M.a,{ylabel:"\u062a\u0639\u062f\u0627\u062f",width:400,height:250,margin:{top:20,right:20,bottom:30,left:40},data:[{text:e.choice_a,value:c[t]?c[t].number_a:e.number_a},{text:e.choice_b,value:c[t]?c[t].number_b:e.number_b},{text:e.choice_c,value:c[t]?c[t].number_c:e.number_c},{text:e.choice_d,value:c[t]?c[t].number_d:e.number_d}],style:{color:"blue"}}),o.a.createElement(N.a,null,o.a.createElement(S.a,null,e.text)))})))}var X=n(342),Y=n(343),Z=n(344),ee=n(152),te=n.n(ee),ne=n(17),ae=n(151),oe=n.n(ae),ce=n(346),re=n(347),le=Object(ne.create)({plugins:[].concat(Object(l.a)(Object(ce.a)().plugins),[oe()()])}),ie=Object(d.a)((function(e){return{root:{flexGrow:1,justifyContent:"space-between"},menuButton:{marginRight:e.spacing(2)},title:{width:"10vw"}}}));var ue=function(){var e=ie();return o.a.createElement(i.a,null,o.a.createElement("div",{dir:"rtl",className:"App"},o.a.createElement(re.b,{jss:le},o.a.createElement(X.a,{position:"static",color:"secondary"},o.a.createElement(Y.a,{className:e.root},o.a.createElement(Z.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement(te.a,null)),o.a.createElement(f.a,{component:i.b,to:"/home",className:e.title},o.a.createElement(S.a,{style:{color:"white"},variant:"h6"},"\u062e\u0627\u0646\u0647")),o.a.createElement(f.a,{component:i.b,to:"/addpoll",color:"inherit"},"\u0628\u0631\u06af\u0630\u0627\u0631\u06cc \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"))),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",render:function(){return o.a.createElement(u.a,{to:"/home"})}}),o.a.createElement(u.b,{path:"/home",component:k}),o.a.createElement(u.b,{path:"/addpoll",component:L}),o.a.createElement(u.b,{path:"/fill/:id",component:J}),o.a.createElement(u.b,{path:"/show/:id",component:V})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=n(23),se=n(28),be=n(53),pe=n(65),de=n(15),he=n(153),ge=n(4),Ee=new pe.a({uri:"https://blooming-hamlet-40237.herokuapp.com/"}),fe=new he.a({uri:"wss://blooming-hamlet-40237.herokuapp.com/graphql",options:{reconnect:!0}}),ve=Object(de.d)((function(e){var t=e.query,n=Object(ge.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),fe,Ee),Oe=new se.a({link:ve,cache:new be.a});r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(me.a,{client:Oe},o.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.b171201b.chunk.js.map