(this.webpackJsonppollfront=this.webpackJsonppollfront||[]).push([[0],{207:function(e,t,n){e.exports=n(358)},212:function(e,t,n){},219:function(e,t,n){},358:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(14),r=n.n(o),i=(n(212),n(57)),l=n(30),u=n(58),m=n(23),s=n(37),d=n(36),p=n(38),b=n(391),h=n(396),g=n(195),E=n(393),f=n(394),O=n(395),j=n(399),v=n(400),y=n(397),w=n(398),_=n(401);function x(){var e=Object(s.a)(["\n    subscription {\n        pollAdded {\n            id\n            name\n        }\n    }\n"]);return x=function(){return e},e}function q(){var e=Object(s.a)(["\n    {\n\n        polls{\n            name\n            id\n        }\n\n    }\n"]);return q=function(){return e},e}var C=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:700,margin:"50px auto",backgroundColor:e.palette.background.paper},listItem:{margin:"10px 3px"}}})),k=Object(g.a)({direction:"rtl"}),S=Object(p.a)(q()),B=Object(p.a)(x());function $(){console.log("bingpooooooooq");var e=Object(d.b)(S),t=e.loading,n=e.error,o=e.data,r=Object(a.useState)([]),u=Object(m.a)(r,2),s=u[0],p=u[1],b=(Object(d.c)(B,{onSubscriptionData:function(e){var t=e.subscriptionData.data.pollAdded;console.log(t);var n=Object(i.a)(s).concat(t);p(n)}}),C());return t?c.a.createElement(E.a,{variant:"query"}):n?c.a.createElement("p",null,"Error :("):c.a.createElement(f.a,null,c.a.createElement(O.a,{theme:k},c.a.createElement(h.a,{component:"nav",className:b.root,"aria-label":"mailbox folders"},o.polls.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(y.a,{className:b.listItem},c.a.createElement(w.a,{primary:e.name}),c.a.createElement(j.a,null,c.a.createElement(v.a,{component:l.c,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),c.a.createElement(v.a,{component:l.c,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),c.a.createElement(_.a,null))})),s.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(y.a,{className:b.listItem},c.a.createElement(w.a,{primary:e.name}),c.a.createElement(j.a,null,c.a.createElement(v.a,{component:l.c,to:"/fill/".concat(e.id)},"\u067e\u0631 \u06a9\u0631\u062f\u0646 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"),c.a.createElement(v.a,{component:l.c,to:"/show/".concat(e.id)},"\u0645\u0634\u0627\u0647\u062f\u0647 \u0646\u062a\u0627\u06cc\u062c"))),c.a.createElement(_.a,null))})),c.a.createElement(_.a,{light:!0}))))}var N=n(134),A=n(415),D=n(59),I=n(408),P=n(410),T=n(409),R=n(413),W=n(407),Q=n(405),M=n(406),F=n(403),G=n(402),J=n(404),L=n(186),z=n.n(L);function H(){var e=Object(s.a)(["\n                    {\n\n                        polls{\n                            name\n                            id\n                        }\n\n                    }\n                "]);return H=function(){return e},e}function K(){var e=Object(s.a)(["\n    mutation addPoll($name: String!,$questions:[QuestionIn!]!) {\n        addPoll(name: $name,questions:$questions) {\n            id\n            name\n        }\n    }\n"]);return K=function(){return e},e}var U=c.a.forwardRef((function(e,t){return c.a.createElement(G.a,Object.assign({direction:"up",ref:t},e))})),V=Object(b.a)((function(e){return{root:{width:"90vw",margin:"0 auto"},questions:{width:"80%",margin:"0 auto"},menuButton:{marginRight:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},title:{width:"10vw"}}})),X=Object(p.a)(K()),Y=Object(g.a)({direction:"rtl"});function Z(){var e,t=Object(u.g)(),n=V(),o=Object(a.useState)([{text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""}]),r=Object(m.a)(o,2),l=r[0],s=r[1],b=Object(d.a)(X,{refetchQueries:[{query:Object(p.a)(H())}]}),h=Object(m.a)(b,2),g=h[0],E=(h[1],Object(a.useState)([""])),j=Object(m.a)(E,2),y=j[0],w=j[1],_=function(e){var t=e.target.name.split("-"),n=parseInt(t[0]),a=t[1],c=Object(i.a)(l);c[n][a]=e.target.value,s(c),console.log(l)},x=Object(a.useState)(!1),q=Object(m.a)(x,2),C=q[0],k=q[1],S=function(){k(!1)},B=Object(a.useState)("\u0646\u0638\u0631\u0633\u0646\u062c\u06cc \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f"),$=Object(m.a)(B,2),G=$[0],L=$[1],K=Object(a.useState)(""),Z=Object(m.a)(K,2),ee=Z[0],te=Z[1];return c.a.createElement("form",{className:n.root,onSubmit:function(e){e.preventDefault(),""===y&&(L("\u0639\u062f\u0645 \u062a\u06a9\u0645\u06cc\u0644 \u0641\u0631\u0645"),te("\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f.")),g({variables:{name:y,questions:l}}).then((function(e){k(!0),w(""),s([])})).catch((function(e){L("\u062e\u0637\u0627"),te(e.message),k(!0)}))}},c.a.createElement(O.a,{theme:Y},c.a.createElement(A.a,{open:C,TransitionComponent:U,keepMounted:!0,onClose:S},c.a.createElement(F.a,{style:{minWidth:"270px",textAlign:"center"},id:"alert-dialog-slide-title"},c.a.createElement(J.a,{"aria-label":"close",className:n.closeButton,onClick:S},c.a.createElement(z.a,null)),G),c.a.createElement(Q.a,null,c.a.createElement(M.a,{style:{textAlign:"right"},id:"alert-dialog-slide-description"},ee)),c.a.createElement(W.a,{style:{display:"flex",direction:"row",justifyContent:"center"}},c.a.createElement(v.a,{onClick:function(){return t.push("/home")},color:"primary"},"\u0628\u0627\u0632\u06af\u0634\u062a \u0628\u0647 \u062e\u0627\u0646\u0647")))),c.a.createElement(f.a,{style:{height:"30px",margin:"20px"},container:!0,direction:"row",justify:"space-between"},c.a.createElement(R.a,{required:!0,label:"\u0646\u0627\u0645 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc",value:y,onChange:function(e){w(e.target.value)}}),c.a.createElement(v.a,(e={color:"primary",style:{backgroundColor:"#0091EA",color:"white",marginLeft:"5%"},round:!0},Object(N.a)(e,"color","info"),Object(N.a)(e,"onClick",(function(e){return s(l.concat({text:"",choice_a:"",choice_b:"",choice_c:"",choice_d:""})),void console.log(l)})),e),c.a.createElement(D.a,null,"\u0627\u0641\u0632\u0648\u062f\u0646 \u0633\u0648\u0627\u0644"))),c.a.createElement(f.a,{spacing:6,className:n.questions,container:!0,direction:"column"},l.map((function(e,t){return c.a.createElement(f.a,{item:!0,className:n.question,container:!0,direction:"column",key:e.id},c.a.createElement(I.a,null,c.a.createElement(T.a,null,c.a.createElement(R.a,{required:!0,placeholder:"\u0639\u0646\u0648\u0627\u0646 \u0633\u0648\u0627\u0644",style:{width:"100%",marginBottom:"20px"},onChange:function(e){return function(e){var t=parseInt(e.target.name),n=Object(i.a)(l);n[t].text=e.target.value,s(n)}(e)},name:"".concat(t),value:"".concat(e.text)}),c.a.createElement(R.a,{required:!0,placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f1",style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_a"),value:"".concat(e.choice_a)}),c.a.createElement(R.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f2",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_b"),value:"".concat(e.choice_b)}),c.a.createElement(R.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f3",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_c"),value:"".concat(e.choice_c)}),c.a.createElement(R.a,{placeholder:"\u06af\u0632\u06cc\u0646\u0647 \u06f4",required:!0,style:{width:"67%",marginBottom:"10px"},onChange:function(e){return _(e)},name:"".concat(t,"-choice_d"),value:"".concat(e.choice_d)})),c.a.createElement(P.a,null,c.a.createElement(v.a,{color:"secondary",name:"".concat(t),round:!0,sm:!0,style:{},onClick:function(){return function(e){l.splice(e,1);var t=Object(i.a)(l);s(t)}(t)}},"\u062d\u0630\u0641 \u0633\u0648\u0627\u0644"))))})),c.a.createElement(v.a,{type:"submit",style:{color:"white",backgroundColor:"#0091EA",marginTop:"40px",width:"30%",margin:"0 auto"}},"\u062a\u0627\u06cc\u06cc\u062f")))}n(219);var ee=n(50),te=n(187),ne=n.n(te),ae=n(188),ce=n.n(ae),oe=n(189),re=n.n(oe),ie=n(190),le=n.n(ie);function ue(){var e=Object(s.a)(["\n    mutation fillPoll($id: String!,$choices:[Choices!]!) {\n        fillPoll(id: $id,choices:$choices)\n    }\n"]);return ue=function(){return e},e}function me(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                choice_b\n                choice_c\n                choice_d\n            }\n        }\n    }\n"]);return me=function(){return e},e}var se=Object(g.a)({direction:"rtl"}),de=Object(b.a)((function(e){return{root:{width:"90vw",margin:"0 auto"},questions:{width:"80%",margin:"0 auto"},menuButton:{marginRight:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},title:{width:"10vw"}}})),pe=Object(p.a)(me()),be=Object(p.a)(ue()),he=c.a.forwardRef((function(e,t){return c.a.createElement(G.a,Object.assign({direction:"up",ref:t},e))}));function ge(){var e=de(),t=Object(u.h)().id,n=Object(u.g)(),o=Object(d.b)(pe,{variables:{id:t}}),r=o.loading,i=o.error,l=o.data,s=Object(d.a)(be),p=Object(m.a)(s,1)[0],b=Object(a.useState)({}),h=Object(m.a)(b,2),g=h[0],j=h[1],y=Object(a.useState)(!1),w=Object(m.a)(y,2),_=w[0],x=w[1],q=function(){x(!1)},C=Object(a.useState)(!0),k=Object(m.a)(C,2),S=k[0],B=k[1],$=Object(a.useState)("\u062c\u0648\u0627\u0628 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0631\u0633\u0627\u0644 \u0634\u062f"),N=Object(m.a)($,2),D=N[0],I=N[1],P=Object(a.useState)(""),T=Object(m.a)(P,2),R=T[0],W=T[1];return r?c.a.createElement(E.a,{variant:"query"}):i?c.a.createElement("p",null,"Error :("):c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=Object.values(g);n.length===l.poll.questions.length?p({variables:{id:t,choices:n}}).then((function(e){x(!0),B(!0),j({})})).catch((function(e){B(!1),I("\u062e\u0637\u0627"),W(e.message),x(!0)})):(B(!1),I("\u062e\u0637\u0627"),W("\u0644\u0637\u0641\u0627 \u0628\u0647 \u0647\u0645\u0647 \u0633\u0648\u0627\u0644\u0627\u062a \u067e\u0627\u0633\u062e \u062f\u0647\u06cc\u062f"),x(!0))}},c.a.createElement(O.a,{theme:se},c.a.createElement(A.a,{open:_,TransitionComponent:he,keepMounted:!0,onClose:q},c.a.createElement(ne.a,{style:{minWidth:"270px",textAlign:"center"},id:"alert-dialog-slide-title"},c.a.createElement(J.a,{"aria-label":"close",className:e.closeButton,onClick:q},c.a.createElement(ce.a,null)),D),c.a.createElement(re.a,null,c.a.createElement(M.a,{style:{textAlign:"right"},id:"alert-dialog-slide-description"},R)),c.a.createElement(le.a,{style:{display:"flex",direction:"row",justifyContent:"center"}},S?c.a.createElement(v.a,{onClick:function(){return n.push("/home")},color:"primary"},"\u0628\u0627\u0632\u06af\u0634\u062a \u0628\u0647 \u062e\u0627\u0646\u0647"):c.a.createElement(v.a,{onClick:q,color:"primary"},"\u0628\u0627\u0634\u0647")))),c.a.createElement(f.a,{direction:"column",container:!0},c.a.createElement(ee.Test,{style:{width:"60%",margin:"50px auto"},onOptionSelect:function(e){return j(e)}},l.poll.questions.map((function(e,t){return c.a.createElement(ee.QuestionGroup,{key:e.id,questionNumber:t},c.a.createElement(ee.Question,null,e.text),c.a.createElement(ee.Option,{value:"A"},e.choice_a),c.a.createElement(ee.Option,{value:"B"},e.choice_b),c.a.createElement(ee.Option,{value:"C"},e.choice_c),c.a.createElement(ee.Option,{value:"D"},e.choice_d))})))),c.a.createElement(v.a,{color:"primary",style:{width:"300px",marginTop:"-30px",marginBottom:"200px"},type:"submit"},"\u0627\u0631\u0633\u0627\u0644"))}var Ee=n(191),fe=n.n(Ee);function Oe(){var e=Object(s.a)(["\n    subscription poll($id:String!) {\n        poll(id:$id){\n            questions{\n                number_a\n                number_b\n                number_c\n                number_d\n            }\n        }\n    }\n"]);return Oe=function(){return e},e}function je(){var e=Object(s.a)(["\n    query Poll($id: String!) {\n        poll(id: $id) {\n            name\n            questions{\n                id\n                text\n                choice_a\n                number_a\n                choice_b\n                number_b\n                choice_c\n                number_c\n                choice_d\n                number_d\n            }\n        }\n    }\n"]);return je=function(){return e},e}var ve=Object(p.a)(je()),ye=Object(p.a)(Oe());function we(){var e=Object(u.h)().id,t=Object(a.useState)([]),n=Object(m.a)(t,2),o=n[0],r=n[1],i=Object(d.b)(ve,{variables:{id:e},onCompleted:function(e){console.log(e.poll.questions),r(e.poll.questions),console.log(o)}}),l=i.loading,s=i.error,p=i.data;Object(d.c)(ye,{variables:{id:e},onSubscriptionData:function(e){var t=e.subscriptionData.data.poll;r(t.questions),console.log(o)}});return l?c.a.createElement(E.a,{variant:"query"}):s?c.a.createElement("p",null,"Error :("):c.a.createElement(f.a,{container:!0,style:{marginTop:"30px",marginBottom:"50px"},alignContent:"center",direction:"column"},p.poll.questions.map((function(e,t){return c.a.createElement(I.a,{style:{width:500,margin:"20px"},key:e.id},c.a.createElement(fe.a,{ylabel:"\u062a\u0639\u062f\u0627\u062f",width:400,height:250,margin:{top:20,right:20,bottom:30,left:40},data:[{text:e.choice_a,value:o[t]?o[t].number_a:e.number_a},{text:e.choice_b,value:o[t]?o[t].number_b:e.number_b},{text:e.choice_c,value:o[t]?o[t].number_c:e.number_c},{text:e.choice_d,value:o[t]?o[t].number_d:e.number_d}],style:{color:"blue"}}),c.a.createElement(T.a,null,c.a.createElement(D.a,null,e.text)))})))}var _e=n(411),xe=n(412),qe=n(193),Ce=n.n(qe),ke=n(19),Se=n(192),Be=n.n(Se),$e=n(197),Ne=n(94),Ae=Object(ke.create)({plugins:[].concat(Object(i.a)(Object($e.a)().plugins),[Be()()])}),De=Object(b.a)((function(e){return{root:{flexGrow:1,justifyContent:"space-between"},menuButton:{marginRight:e.spacing(2)},title:{width:"10vw"}}}));var Ie=function(){var e=De();return c.a.createElement(l.a,null,c.a.createElement(l.b,{basename:"/"},c.a.createElement("div",{dir:"rtl",className:"App"},c.a.createElement(Ne.b,{jss:Ae},c.a.createElement(_e.a,{position:"static",color:"secondary"},c.a.createElement(xe.a,{className:e.root},c.a.createElement(J.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},c.a.createElement(Ce.a,null)),c.a.createElement(v.a,{component:l.c,to:"/home",className:e.title},c.a.createElement(D.a,{style:{color:"white"},variant:"h6"},"\u062e\u0627\u0646\u0647")),c.a.createElement(v.a,{component:l.c,to:"/addpoll",color:"inherit"},"\u0628\u0631\u06af\u0632\u0627\u0631\u06cc \u0646\u0638\u0631\u0633\u0646\u062c\u06cc"))),c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/",render:function(){return c.a.createElement(u.a,{to:"/home"})}}),c.a.createElement(u.b,{path:"/home",component:$}),c.a.createElement(u.b,{path:"/addpoll",component:Z}),c.a.createElement(u.b,{path:"/fill/:id",component:ge}),c.a.createElement(u.b,{path:"/show/:id",component:we}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=n(26),Te=n(35),Re=n(62),We=n(75),Qe=n(18),Me=n(194),Fe=n(6),Ge=new We.a({uri:"https://blooming-hamlet-40237.herokuapp.com/"}),Je=new Me.a({uri:"wss://blooming-hamlet-40237.herokuapp.com/graphql",options:{timeout:3e4,reconnect:!0}}),Le=Object(Qe.d)((function(e){var t=e.query,n=Object(Fe.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),Je,Ge),ze=new Te.a({link:Le,cache:new Re.a});r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Pe.a,{client:ze},c.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.33d9a116.chunk.js.map